<div class="doc-content">
    

    <h1 id="s-means-similarity-clustering-in-javascript">S-Means: Similarity clustering in JavaScript</h1>
<p>smeans.js provides a simple way to cluster data using the S-Means algorithm.</p>
<p>

<div>
  <!-- <a ng-click="openPlunkr('examples/example-tutorial1')" class="btn pull-right">
    <i class="glyphicon glyphicon-edit">&nbsp;</i>
    Edit in Plunker</a> -->

  <div class="runnable-example"
      path="examples/example-tutorial1"
      name="tutorial1"
      module="app">

  
    <div class="runnable-example-file" 
      name="index.html"
      language="html"
      type="html">
      <pre><code>&lt;strong&gt;Click anywhere in the canvas below to add a point. It will then be clustered by smeans.js.&lt;/strong&gt;&#13;&#10;&lt;br&gt;&#13;&#10;&lt;br&gt;&#13;&#10;&lt;button type=&quot;button&quot; ng-click=&quot;clear()&quot;&gt;Clear&lt;/button&gt;&#13;&#10;&lt;br&gt;&#13;&#10;&lt;br&gt;&#13;&#10;&lt;app-canvas&gt;&lt;/app-canvas&gt;&#13;</code></pre>
    </div>
  
    <div class="runnable-example-file" 
      name="app.js"
      language="js"
      type="js">
      <pre><code>angular.module(&#39;app&#39;, [&#39;docs.utils&#39;])&#13;&#10;&#13;&#10;.run(function ($rootScope) {&#13;&#10;  $rootScope.vals = Smeans.cluster([ [1, 0], [2, 2], [1000, 10001] ]);&#13;&#10;})&#13;&#10;&#10;.directive(&#39;appCanvas&#39;, function ($log, $interval, $compile) {&#13;&#10;  var r = 4;&#13;&#10;&#10;  return {&#13;&#10;    restrict: &#39;EA&#39;,&#13;&#10;    priority: &#39;200&#39;,&#13;&#10;    scope: false,&#13;&#10;    require: &#39;appCanvas&#39;,&#13;&#10;    link: function ($scope, $elm, $attr, ctrl) {&#13;&#10;      var svg = ctrl.svg();&#13;&#10;      var points = $scope.points = [];&#13;&#10;&#10;      svg.selectAll(&#39;circle&#39;)&#13;&#10;        .data(points);&#13;&#10;&#10;      svg.on(&#39;click&#39;, function () {&#13;&#10;        points.push(d3.mouse(this));&#13;&#10;&#10;        redraw();&#13;&#10;      });&#13;&#10;&#10;      function redraw() {&#13;&#10;        var circle = svg.selectAll(&quot;circle&quot;)&#13;&#10;          .data(points, function(d) { return d; });&#13;&#10;&#10;        circle.enter()&#13;&#10;          .append(&#39;circle&#39;)&#13;&#10;          .attr(&#39;r&#39;, r)&#13;&#10;          .attr(&quot;cx&quot;, function(d) { return d[0]; })&#13;&#10;          .attr(&quot;cy&quot;, function(d) { return d[1]; });&#13;&#10;&#10;        // Cluster points and add centroids and lines&#13;&#10;        var clusters = $scope.clusters = Smeans.cluster(points);&#13;&#10;&#10;        svg.selectAll(&#39;.centroid&#39;).remove();&#13;&#10;        svg.selectAll(&#39;.line&#39;).remove();&#13;&#10;&#10;        for (var ci in clusters) {&#13;&#10;          var cluster = clusters[ci];&#13;&#10;&#10;          svg.append(&#39;circle&#39;)&#13;&#10;            .attr(&#39;class&#39;, &#39;centroid&#39;)&#13;&#10;            .attr(&#39;r&#39;, r)&#13;&#10;            .attr(&#39;cx&#39;, cluster.centroid[0])&#13;&#10;            .attr(&#39;cy&#39;, cluster.centroid[1]);&#13;&#10;&#10;          for (var ei in cluster.elements) {&#13;&#10;            var e = cluster.elements[ei];&#13;&#10;&#10;            var line = svg.append(&#39;line&#39;)&#13;&#10;              .style(&#39;stroke&#39;, &#39;gray&#39;)  // colour the line&#13;&#10;              .attr(&#39;class&#39;, &#39;line&#39;)&#13;&#10;              .attr(&quot;x1&quot;, e[0])     // x position of the first end of the line&#13;&#10;              .attr(&quot;y1&quot;, e[1])     // y position of the first end of the line&#13;&#10;              .attr(&quot;x2&quot;, cluster.centroid[0])  // x position of the second end of the line&#13;&#10;              .attr(&quot;y2&quot;, cluster.centroid[1]); // y position of the second end of the line&#13;&#10;          }&#13;&#10;        }&#13;&#10;      }&#13;&#10;&#10;      $scope.redraw = redraw;&#13;&#10;      $scope.clear = function() {&#13;&#10;        $scope.points.length = 0;&#13;&#10;        svg.selectAll(&quot;circle&quot;).remove();&#13;&#10;        svg.selectAll(&quot;line&quot;).remove();&#13;&#10;      };&#13;&#10;    }&#13;&#10;  };&#13;&#10;});&#13;</code></pre>
    </div>
  

    <iframe class="runnable-example-frame" src="examples/example-tutorial1/index.html" name="example-tutorial1"></iframe>
  </div>
</div>

</p>


    

    

    
</div>